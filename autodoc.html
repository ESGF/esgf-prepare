

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Code documentation &mdash; esgprep 2.8.1 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="esgprep 2.8.1 documentation" href="index.html"/>
        <link rel="prev" title="Change Log" href="log.html"/> 

  
  <script src="static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> esgprep
          

          
          </a>

          
            
            
              <div class="version">
                2.8
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="configuration.html">Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="usage.html">Generic usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="fetchini.html">Fetch ESGF configuration INI files</a></li>
<li class="toctree-l1"><a class="reference internal" href="drs.html">Manage local data through the DRS</a></li>
<li class="toctree-l1"><a class="reference internal" href="checkvocab.html">Check CV against configuration INI files</a></li>
<li class="toctree-l1"><a class="reference internal" href="mapfiles.html">Generate mapfile for ESGF publication</a></li>
<li class="toctree-l1"><a class="reference internal" href="faq.html">Frequently asked questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="credits.html">Credits</a></li>
<li class="toctree-l1"><a class="reference internal" href="log.html">Change Log</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Code documentation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#module-esgprep.esgfetchini">esgfetchini</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-esgprep.esgdrs">esgdrs</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-esgprep.esgcheckvocab">esgcheckvocab</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-esgprep.esgmapfile">esgmapfile</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-esgprep.utils.constants">utils</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">esgprep</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Code documentation</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="sources/autodoc.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="code-documentation">
<span id="autodoc"></span><h1>Code documentation<a class="headerlink" href="#code-documentation" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-esgprep.esgfetchini">
<span id="esgfetchini"></span><h2>esgfetchini<a class="headerlink" href="#module-esgprep.esgfetchini" title="Permalink to this headline">¶</a></h2>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">platform:</th><td class="field-body">Unix</td>
</tr>
<tr class="field-even field"><th class="field-name">synopsis:</th><td class="field-body">Toolbox to prepare ESGF data for publication.</td>
</tr>
</tbody>
</table>
<dl class="function">
<dt id="esgprep.esgfetchini.get_args">
<code class="descclassname">esgprep.esgfetchini.</code><code class="descname">get_args</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="modules/esgprep/esgfetchini.html#get_args"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esgprep.esgfetchini.get_args" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns parsed command-line arguments.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The argument parser</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><em>argparse.Namespace</em></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="esgprep.esgfetchini.run">
<code class="descclassname">esgprep.esgfetchini.</code><code class="descname">run</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="modules/esgprep/esgfetchini.html#run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esgprep.esgfetchini.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Run main program</p>
</dd></dl>

<span class="target" id="module-esgprep.fetchini.constants"></span><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">platform:</th><td class="field-body">Unix</td>
</tr>
<tr class="field-even field"><th class="field-name">synopsis:</th><td class="field-body">Constants used in this module.</td>
</tr>
</tbody>
</table>
<span class="target" id="module-esgprep.fetchini.main"></span><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">platform:</th><td class="field-body">Unix</td>
</tr>
<tr class="field-even field"><th class="field-name">synopsis:</th><td class="field-body">Fetches ESGF configuration files from GitHub repository.</td>
</tr>
</tbody>
</table>
<dl class="function">
<dt id="esgprep.fetchini.main.backup">
<code class="descclassname">esgprep.fetchini.main.</code><code class="descname">backup</code><span class="sig-paren">(</span><em>f</em>, <em>mode=None</em><span class="sig-paren">)</span><a class="reference internal" href="modules/esgprep/fetchini/main.html#backup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esgprep.fetchini.main.backup" title="Permalink to this definition">¶</a></dt>
<dd><p>Backup a local file following different modes:</p>
<blockquote>
<div><ul class="simple">
<li>“one_version” renames the existing file in its source directory adding a “.bkp” extension to the filename.</li>
<li>“keep_versions” moves the existing file in a child directory called “bkp” and add a timestamp to the filename.</li>
</ul>
</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>f</strong> (<em>str</em>) – The file to backup</li>
<li><strong>mode</strong> (<em>str</em>) – The backup mode to follow</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="esgprep.fetchini.main.write_content">
<code class="descclassname">esgprep.fetchini.main.</code><code class="descname">write_content</code><span class="sig-paren">(</span><em>outfile</em>, <em>content</em><span class="sig-paren">)</span><a class="reference internal" href="modules/esgprep/fetchini/main.html#write_content"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esgprep.fetchini.main.write_content" title="Permalink to this definition">¶</a></dt>
<dd><p>Write GitHub content into a file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>outfile</strong> (<em>str</em>) – The output file</li>
<li><strong>content</strong> (<em>str</em>) – The file content to write</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="esgprep.fetchini.main.do_fetching">
<code class="descclassname">esgprep.fetchini.main.</code><code class="descname">do_fetching</code><span class="sig-paren">(</span><em>f</em>, <em>remote_checksum</em>, <em>keep</em>, <em>overwrite</em><span class="sig-paren">)</span><a class="reference internal" href="modules/esgprep/fetchini/main.html#do_fetching"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esgprep.fetchini.main.do_fetching" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns True or False depending on decision schema</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>f</strong> (<em>str</em>) – The file to test</li>
<li><strong>remote_checksum</strong> (<em>str</em>) – The remote file checksum</li>
<li><strong>overwrite</strong> (<em>boolean</em>) – True if overwrite existing files</li>
<li><strong>keep</strong> (<em>boolean</em>) – True if keep existing files</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">True depending on the conditions</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><em>boolean</em></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="esgprep.fetchini.main.githash">
<code class="descclassname">esgprep.fetchini.main.</code><code class="descname">githash</code><span class="sig-paren">(</span><em>outfile</em><span class="sig-paren">)</span><a class="reference internal" href="modules/esgprep/fetchini/main.html#githash"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esgprep.fetchini.main.githash" title="Permalink to this definition">¶</a></dt>
<dd><p>Makes Git checksum (as called by “git hash-object”) of a file</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>outfile</strong> – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The SHA1 sum</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="esgprep.fetchini.main.run">
<code class="descclassname">esgprep.fetchini.main.</code><code class="descname">run</code><span class="sig-paren">(</span><em>args</em><span class="sig-paren">)</span><a class="reference internal" href="modules/esgprep/fetchini/main.html#run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esgprep.fetchini.main.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Main process that:</p>
<blockquote>
<div><ul class="simple">
<li>Decide to fetch or not depending on file presence/absence and command-line arguments,</li>
<li>Gets the GitHub file content from full API URL,</li>
<li>Backups old file if desired,</li>
<li>Writes response into INI file.</li>
</ul>
</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>args</strong> (<em>ArgumentParser</em>) – Parsed command-line arguments</td>
</tr>
</tbody>
</table>
</dd></dl>

<span class="target" id="module-esgprep.fetchini.context"></span><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">platform:</th><td class="field-body">Unix</td>
</tr>
<tr class="field-even field"><th class="field-name">synopsis:</th><td class="field-body">Processing context used in this module.</td>
</tr>
</tbody>
</table>
<dl class="class">
<dt id="esgprep.fetchini.context.ProcessingContext">
<em class="property">class </em><code class="descclassname">esgprep.fetchini.context.</code><code class="descname">ProcessingContext</code><span class="sig-paren">(</span><em>args</em><span class="sig-paren">)</span><a class="reference internal" href="modules/esgprep/fetchini/context.html#ProcessingContext"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esgprep.fetchini.context.ProcessingContext" title="Permalink to this definition">¶</a></dt>
<dd><p>Encapsulates the processing context/information for main process.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>args</strong> (<em>ArgumentParser</em>) – The command-line arguments parser</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The processing context</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><em>ProcessingContext</em></td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="esgprep.fetchini.context.ProcessingContext.authenticate">
<code class="descname">authenticate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="modules/esgprep/fetchini/context.html#ProcessingContext.authenticate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esgprep.fetchini.context.ProcessingContext.authenticate" title="Permalink to this definition">¶</a></dt>
<dd><p>Builds GitHub HTTP authenticator</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The HTTP authenticator</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><em>requests.auth.HTTPBasicAuth</em></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="esgprep.fetchini.context.ProcessingContext.make_ini_dir">
<code class="descname">make_ini_dir</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="modules/esgprep/fetchini/context.html#ProcessingContext.make_ini_dir"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esgprep.fetchini.context.ProcessingContext.make_ini_dir" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Build the output directory as follows:</dt>
<dd><ul class="first last simple">
<li>If ESGF node and args.i = /esg/config/esgcet -&gt; exists</li>
<li>If not ESGF node and args.i = /esg/config/esgcet -&gt; doesn’t exist -&gt; use $PWD/ini instead</li>
<li>If ESGF node and args.i = other -&gt; if not exists make it</li>
<li>If not ESGF node and args.i = other -&gt; if not exists make it</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="esgprep.fetchini.context.ProcessingContext.target_projects">
<code class="descname">target_projects</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="modules/esgprep/fetchini/context.html#ProcessingContext.target_projects"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esgprep.fetchini.context.ProcessingContext.target_projects" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the available projects ids from GitHub esg.*.ini files.
Make the intersection with the desired projects to fetch.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The target projects</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><em>list</em></td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<span class="target" id="module-esgprep.fetchini.custom_exceptions"></span><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">platform:</th><td class="field-body">Unix</td>
</tr>
<tr class="field-even field"><th class="field-name">synopsis:</th><td class="field-body">Custom exceptions used in this module.</td>
</tr>
</tbody>
</table>
<dl class="exception">
<dt id="esgprep.fetchini.custom_exceptions.GitHubException">
<em class="property">exception </em><code class="descclassname">esgprep.fetchini.custom_exceptions.</code><code class="descname">GitHubException</code><span class="sig-paren">(</span><em>msg</em><span class="sig-paren">)</span><a class="reference internal" href="modules/esgprep/fetchini/custom_exceptions.html#GitHubException"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esgprep.fetchini.custom_exceptions.GitHubException" title="Permalink to this definition">¶</a></dt>
<dd><p>Basic exception for GitHub errors.</p>
</dd></dl>

<dl class="exception">
<dt id="esgprep.fetchini.custom_exceptions.GitHubUnauthorized">
<em class="property">exception </em><code class="descclassname">esgprep.fetchini.custom_exceptions.</code><code class="descname">GitHubUnauthorized</code><a class="reference internal" href="modules/esgprep/fetchini/custom_exceptions.html#GitHubUnauthorized"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esgprep.fetchini.custom_exceptions.GitHubUnauthorized" title="Permalink to this definition">¶</a></dt>
<dd><p>Raised when no read access on GitHub repo.</p>
</dd></dl>

<dl class="exception">
<dt id="esgprep.fetchini.custom_exceptions.GitHubAPIRateLimit">
<em class="property">exception </em><code class="descclassname">esgprep.fetchini.custom_exceptions.</code><code class="descname">GitHubAPIRateLimit</code><a class="reference internal" href="modules/esgprep/fetchini/custom_exceptions.html#GitHubAPIRateLimit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esgprep.fetchini.custom_exceptions.GitHubAPIRateLimit" title="Permalink to this definition">¶</a></dt>
<dd><p>Raised when GitHub API rate limit exceeded.</p>
</dd></dl>

<dl class="exception">
<dt id="esgprep.fetchini.custom_exceptions.GitHubFileNotFound">
<em class="property">exception </em><code class="descclassname">esgprep.fetchini.custom_exceptions.</code><code class="descname">GitHubFileNotFound</code><a class="reference internal" href="modules/esgprep/fetchini/custom_exceptions.html#GitHubFileNotFound"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esgprep.fetchini.custom_exceptions.GitHubFileNotFound" title="Permalink to this definition">¶</a></dt>
<dd><p>Raised when no file found on GitHub repo.</p>
</dd></dl>

<dl class="exception">
<dt id="esgprep.fetchini.custom_exceptions.GitHubConnectionError">
<em class="property">exception </em><code class="descclassname">esgprep.fetchini.custom_exceptions.</code><code class="descname">GitHubConnectionError</code><a class="reference internal" href="modules/esgprep/fetchini/custom_exceptions.html#GitHubConnectionError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esgprep.fetchini.custom_exceptions.GitHubConnectionError" title="Permalink to this definition">¶</a></dt>
<dd><p>Raised when the GitHub request fails.</p>
</dd></dl>

<span class="target" id="module-esgprep.fetchini.misc"></span><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">platform:</th><td class="field-body">Unix</td>
</tr>
<tr class="field-even field"><th class="field-name">synopsis:</th><td class="field-body">Useful functions to use with this module.</td>
</tr>
</tbody>
</table>
<dl class="function">
<dt id="esgprep.fetchini.misc.gh_request_content">
<code class="descclassname">esgprep.fetchini.misc.</code><code class="descname">gh_request_content</code><span class="sig-paren">(</span><em>url</em>, <em>auth=None</em><span class="sig-paren">)</span><a class="reference internal" href="modules/esgprep/fetchini/misc.html#gh_request_content"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esgprep.fetchini.misc.gh_request_content" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the GitHub content of a file or a directory.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>url</strong> (<em>str</em>) – The GitHub url to request</li>
<li><strong>auth</strong> (<em>requests.auth.HTTPBasicAuth</em>) – The authenticator object</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The GitHub request content</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><em>requests.models.Response</em></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><strong>Error</strong> – If user not authorized to read GitHub repository</li>
<li><strong>Error</strong> – If user exceed the GitHub API rate limit</li>
<li><strong>Error</strong> – If the queried content does not exist</li>
<li><strong>Error</strong> – If the GitHub request fails for other reasons</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-esgprep.esgdrs">
<span id="esgdrs"></span><h2>esgdrs<a class="headerlink" href="#module-esgprep.esgdrs" title="Permalink to this headline">¶</a></h2>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">platform:</th><td class="field-body">Unix</td>
</tr>
<tr class="field-even field"><th class="field-name">synopsis:</th><td class="field-body">Toolbox to prepare ESGF data for publication.</td>
</tr>
</tbody>
</table>
<dl class="function">
<dt id="esgprep.esgdrs.get_args">
<code class="descclassname">esgprep.esgdrs.</code><code class="descname">get_args</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="modules/esgprep/esgdrs.html#get_args"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esgprep.esgdrs.get_args" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns parsed command-line arguments.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The argument parser</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><em>argparse.Namespace</em></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="esgprep.esgdrs.run">
<code class="descclassname">esgprep.esgdrs.</code><code class="descname">run</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="modules/esgprep/esgdrs.html#run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esgprep.esgdrs.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Run main program</p>
</dd></dl>

<span class="target" id="module-esgprep.drs.constants"></span><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">platform:</th><td class="field-body">Unix</td>
</tr>
<tr class="field-even field"><th class="field-name">synopsis:</th><td class="field-body">Constants used in this module.</td>
</tr>
</tbody>
</table>
<span class="target" id="module-esgprep.drs.main"></span><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">platform:</th><td class="field-body">Unix</td>
</tr>
<tr class="field-even field"><th class="field-name">synopsis:</th><td class="field-body">Manages the filesystem tree according to the project the Data Reference Syntax and versioning.</td>
</tr>
</tbody>
</table>
<dl class="function">
<dt id="esgprep.drs.main.process">
<code class="descclassname">esgprep.drs.main.</code><code class="descname">process</code><span class="sig-paren">(</span><em>collector_input</em><span class="sig-paren">)</span><a class="reference internal" href="modules/esgprep/drs/main.html#process"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esgprep.drs.main.process" title="Permalink to this definition">¶</a></dt>
<dd><p>File process that:</p>
<blockquote>
<div><ul class="simple">
<li>Handles files,</li>
<li>Deduces facet key, values pairs from file attributes</li>
<li>Checks facet values against CV,</li>
<li>Applies the versioning</li>
<li>Populates the DRS tree crating the appropriate leaves,</li>
<li>Stores dataset statistics.</li>
</ul>
</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>collector_input</strong> (<em>tuple</em>) – A tuple with the file path and the processing context</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">True on success</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><em>boolean</em></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="esgprep.drs.main.run">
<code class="descclassname">esgprep.drs.main.</code><code class="descname">run</code><span class="sig-paren">(</span><em>args</em><span class="sig-paren">)</span><a class="reference internal" href="modules/esgprep/drs/main.html#run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esgprep.drs.main.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Main process that:</p>
<blockquote>
<div><ul class="simple">
<li>Instantiates processing context,</li>
<li>Loads previous program instance,</li>
<li>Parallelizes file processing with threads pools,</li>
<li>Apply command-line action to the whole DRS tree,</li>
<li>Evaluate exit status.</li>
</ul>
</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>args</strong> (<em>ArgumentParser</em>) – The command-line arguments parser</td>
</tr>
</tbody>
</table>
</dd></dl>

<span class="target" id="module-esgprep.drs.context"></span><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">platform:</th><td class="field-body">Unix</td>
</tr>
<tr class="field-even field"><th class="field-name">synopsis:</th><td class="field-body">Processing context used in this module.</td>
</tr>
</tbody>
</table>
<dl class="class">
<dt id="esgprep.drs.context.ProcessingContext">
<em class="property">class </em><code class="descclassname">esgprep.drs.context.</code><code class="descname">ProcessingContext</code><span class="sig-paren">(</span><em>args</em><span class="sig-paren">)</span><a class="reference internal" href="modules/esgprep/drs/context.html#ProcessingContext"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esgprep.drs.context.ProcessingContext" title="Permalink to this definition">¶</a></dt>
<dd><p>Encapsulates the processing context/information for main process.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>args</strong> (<em>ArgumentParser</em>) – Parsed command-line arguments</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The processing context</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><em>ProcessingContext</em></td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="esgprep.drs.context.ProcessingContext.check_existing_commands_file">
<code class="descname">check_existing_commands_file</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="modules/esgprep/drs/context.html#ProcessingContext.check_existing_commands_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esgprep.drs.context.ProcessingContext.check_existing_commands_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Check for existing commands file,
and depending on <code class="docutils literal"><span class="pre">--overwrite-commands-file</span></code> setting,
either delete it or throw a fatal error.</p>
</dd></dl>

<dl class="method">
<dt id="esgprep.drs.context.ProcessingContext.get_checksum_type">
<code class="descname">get_checksum_type</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="modules/esgprep/drs/context.html#ProcessingContext.get_checksum_type"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esgprep.drs.context.ProcessingContext.get_checksum_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the checksum type to use.
Be careful to Exception constants by reading two different sections.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The checksum type</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><em>str</em></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="esgprep.drs.context.ProcessingContext.check_args">
<code class="descname">check_args</code><span class="sig-paren">(</span><em>old_args</em><span class="sig-paren">)</span><a class="reference internal" href="modules/esgprep/drs/context.html#ProcessingContext.check_args"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esgprep.drs.context.ProcessingContext.check_args" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks command-line argument to avoid discrepancies between <code class="docutils literal"><span class="pre">esgdrs</span></code> steps.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>old_args</strong> (<em>dict</em>) – The recorded arguments</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><strong>Error</strong> – If one argument differs</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<span class="target" id="module-esgprep.drs.handler"></span><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">platform:</th><td class="field-body">Unix</td>
</tr>
<tr class="field-even field"><th class="field-name">synopsis:</th><td class="field-body">Class to handle dataset directory for DRS management.</td>
</tr>
</tbody>
</table>
<dl class="class">
<dt id="esgprep.drs.handler.File">
<em class="property">class </em><code class="descclassname">esgprep.drs.handler.</code><code class="descname">File</code><span class="sig-paren">(</span><em>ffp</em><span class="sig-paren">)</span><a class="reference internal" href="modules/esgprep/drs/handler.html#File"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esgprep.drs.handler.File" title="Permalink to this definition">¶</a></dt>
<dd><p>Handler providing methods to deal with file processing.</p>
<dl class="method">
<dt id="esgprep.drs.handler.File.get">
<code class="descname">get</code><span class="sig-paren">(</span><em>key</em><span class="sig-paren">)</span><a class="reference internal" href="modules/esgprep/drs/handler.html#File.get"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esgprep.drs.handler.File.get" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the attribute value corresponding to the key.
The submitted key can refer to <code class="docutils literal"><span class="pre">File.key</span></code> or <code class="docutils literal"><span class="pre">File.attributes[key]</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>key</strong> (<em>str</em>) – The key</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The corresponding value</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><em>str</em> or <em>list</em> or <em>dict</em> depending on the key</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><strong>Error</strong> – If unknown key</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="esgprep.drs.handler.File.load_attributes">
<code class="descname">load_attributes</code><span class="sig-paren">(</span><em>root</em>, <em>pattern</em>, <em>set_values</em><span class="sig-paren">)</span><a class="reference internal" href="modules/esgprep/drs/handler.html#File.load_attributes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esgprep.drs.handler.File.load_attributes" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads DRS attributes catched from a regular expression match.
The root facet is added by default.
The dataset version is initially set to None.
Can be overwrite by “set_values” pairs if submitted.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>root</strong> (<em>str</em>) – The DRS tree root</li>
<li><strong>pattern</strong> (<em>str</em>) – The regular expression to match</li>
<li><strong>set_values</strong> (<em>dict</em>) – Key/value pairs of facet to set for the run</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><strong>Error</strong> – If regular expression matching fails</li>
<li><strong>Error</strong> – If invalid NetCDF file.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="esgprep.drs.handler.File.check_facets">
<code class="descname">check_facets</code><span class="sig-paren">(</span><em>facets</em>, <em>config</em>, <em>set_keys</em><span class="sig-paren">)</span><a class="reference internal" href="modules/esgprep/drs/handler.html#File.check_facets"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esgprep.drs.handler.File.check_facets" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks each facet against the controlled vocabulary.
If a DRS attribute is missing regarding the list of facets,
The DRS attributes are completed from the configuration file maptables.
In the case of non-standard attribute, it gets the most similar key among netCDF attributes names.
Attributes can be directly mapped with “set_keys” pairs if submitted.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>facets</strong> (<a class="reference internal" href="#esgprep.drs.handler.DRSTree.list" title="esgprep.drs.handler.DRSTree.list"><em>list</em></a>) – The list of facet to check</li>
<li><strong>config</strong> (<em>ESGConfigParser.SectionParser</em>) – The configuration parser</li>
<li><strong>set_keys</strong> (<em>dict</em>) – Key/Attribute pairs to map for the run</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><strong>Error</strong> – If one facet checkup fails</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="esgprep.drs.handler.File.get_drs_parts">
<code class="descname">get_drs_parts</code><span class="sig-paren">(</span><em>facets</em><span class="sig-paren">)</span><a class="reference internal" href="modules/esgprep/drs/handler.html#File.get_drs_parts"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esgprep.drs.handler.File.get_drs_parts" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the DRS pairs required to build the DRS path. The DRS parts are included as an OrderedDict():
{project : ‘CMIP5’, product: ‘output1’, …}</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>facets</strong> (<a class="reference internal" href="#esgprep.drs.handler.DRSTree.list" title="esgprep.drs.handler.DRSTree.list"><em>list</em></a>) – The list of facet to check</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The ordered DRS parts</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><em>OrderedDict</em></td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="esgprep.drs.handler.DRSPath">
<em class="property">class </em><code class="descclassname">esgprep.drs.handler.</code><code class="descname">DRSPath</code><span class="sig-paren">(</span><em>parts</em><span class="sig-paren">)</span><a class="reference internal" href="modules/esgprep/drs/handler.html#DRSPath"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esgprep.drs.handler.DRSPath" title="Permalink to this definition">¶</a></dt>
<dd><p>Handler providing methods to deal with paths.</p>
<dl class="method">
<dt id="esgprep.drs.handler.DRSPath.get">
<code class="descname">get</code><span class="sig-paren">(</span><em>key</em><span class="sig-paren">)</span><a class="reference internal" href="modules/esgprep/drs/handler.html#DRSPath.get"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esgprep.drs.handler.DRSPath.get" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the attribute value corresponding to the key.
The submitted key can refer to the DRS dataset parts of the DRS file parts.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>key</strong> (<em>str</em>) – The key</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The value</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><em>str</em> or <em>list</em> or <em>dict</em> depending on the key</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><strong>Error</strong> – If unknown key</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="esgprep.drs.handler.DRSPath.items">
<code class="descname">items</code><span class="sig-paren">(</span><em>d_part=True</em>, <em>f_part=True</em>, <em>version=True</em>, <em>file_folder=False</em>, <em>latest=False</em>, <em>root=False</em><span class="sig-paren">)</span><a class="reference internal" href="modules/esgprep/drs/handler.html#DRSPath.items"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esgprep.drs.handler.DRSPath.items" title="Permalink to this definition">¶</a></dt>
<dd><p>Itemizes the facet values along the DRS path.
Flags can be combine to obtain different behaviors.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>d_part</strong> (<em>boolean</em>) – True to append the dataset facets</li>
<li><strong>f_part</strong> (<em>boolean</em>) – True to append the file facets</li>
<li><strong>version</strong> (<em>boolean</em>) – True to append the version facet</li>
<li><strong>file_folder</strong> (<em>boolean</em>) – True to append the folder for physical files</li>
<li><strong>latest</strong> (<em>boolean</em>) – True to switch from upgrade to latest version</li>
<li><strong>root</strong> (<em>boolean</em>) – True to prepend the DRS root directory</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The corresponding facet values</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><em>list</em></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="esgprep.drs.handler.DRSPath.path">
<code class="descname">path</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="modules/esgprep/drs/handler.html#DRSPath.path"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esgprep.drs.handler.DRSPath.path" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a list of facet values into path.
The arguments are the same as <a class="reference internal" href="#esgprep.drs.handler.DRSPath.items" title="esgprep.drs.handler.DRSPath.items"><code class="xref py py-func docutils literal"><span class="pre">esgprep.drs.handler.DRSPath.items()</span></code></a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The path</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><em>str</em></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="esgprep.drs.handler.DRSPath.get_latest_version">
<code class="descname">get_latest_version</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="modules/esgprep/drs/handler.html#DRSPath.get_latest_version"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esgprep.drs.handler.DRSPath.get_latest_version" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the current latest dataset version if exists.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The latest dataset version properly formatted</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><em>str</em></td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><strong>Error</strong> – If latest version exists and is the same as upgrade version</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="esgprep.drs.handler.DRSLeaf">
<em class="property">class </em><code class="descclassname">esgprep.drs.handler.</code><code class="descname">DRSLeaf</code><span class="sig-paren">(</span><em>src</em>, <em>dst</em>, <em>mode</em>, <em>origin</em><span class="sig-paren">)</span><a class="reference internal" href="modules/esgprep/drs/handler.html#DRSLeaf"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esgprep.drs.handler.DRSLeaf" title="Permalink to this definition">¶</a></dt>
<dd><p>Handler providing methods to deal with DRS file.</p>
<dl class="method">
<dt id="esgprep.drs.handler.DRSLeaf.upgrade">
<code class="descname">upgrade</code><span class="sig-paren">(</span><em>todo_only=True</em>, <em>commands_file=None</em><span class="sig-paren">)</span><a class="reference internal" href="modules/esgprep/drs/handler.html#DRSLeaf.upgrade"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esgprep.drs.handler.DRSLeaf.upgrade" title="Permalink to this definition">¶</a></dt>
<dd><p>Upgrade the DRS tree.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>commands_file</strong> (<em>str</em>) – The file to write command-lines statement if submitted</li>
<li><strong>todo_only</strong> (<em>boolean</em>) – True to only print Unix command-lines to apply (i.e., as dry-run)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="esgprep.drs.handler.DRSLeaf.has_permissions">
<code class="descname">has_permissions</code><span class="sig-paren">(</span><em>root</em><span class="sig-paren">)</span><a class="reference internal" href="modules/esgprep/drs/handler.html#DRSLeaf.has_permissions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esgprep.drs.handler.DRSLeaf.has_permissions" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks permissions for DRS leaf migration.
Discards relative paths.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>root</strong> (<em>str</em>) – The DRS tree root</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><strong>Error</strong> – If missing user privileges</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="esgprep.drs.handler.DRSLeaf.migration_granted">
<code class="descname">migration_granted</code><span class="sig-paren">(</span><em>root</em><span class="sig-paren">)</span><a class="reference internal" href="modules/esgprep/drs/handler.html#DRSLeaf.migration_granted"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esgprep.drs.handler.DRSLeaf.migration_granted" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if migration mode is allowed by filesystem.
Bacially, copy or move will always succeed.
Only hardlinks could fail depending on the filesystem partition.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>root</strong> (<em>str</em>) – The DRS tree root</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><strong>Error</strong> – If migration is disallowed by filesystem configuration</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="esgprep.drs.handler.DRSTree">
<em class="property">class </em><code class="descclassname">esgprep.drs.handler.</code><code class="descname">DRSTree</code><span class="sig-paren">(</span><em>root</em>, <em>version</em>, <em>mode</em>, <em>outfile=None</em><span class="sig-paren">)</span><a class="reference internal" href="modules/esgprep/drs/handler.html#DRSTree"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esgprep.drs.handler.DRSTree" title="Permalink to this definition">¶</a></dt>
<dd><p>Handler providing methods to deal with DRS tree.</p>
<dl class="method">
<dt id="esgprep.drs.handler.DRSTree.get_display_lengths">
<code class="descname">get_display_lengths</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="modules/esgprep/drs/handler.html#DRSTree.get_display_lengths"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esgprep.drs.handler.DRSTree.get_display_lengths" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the string lengths for comfort display.</p>
</dd></dl>

<dl class="method">
<dt id="esgprep.drs.handler.DRSTree.create_leaf">
<code class="descname">create_leaf</code><span class="sig-paren">(</span><em>nodes</em>, <em>leaf</em>, <em>label</em>, <em>src</em>, <em>mode</em>, <em>origin=None</em><span class="sig-paren">)</span><a class="reference internal" href="modules/esgprep/drs/handler.html#DRSTree.create_leaf"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esgprep.drs.handler.DRSTree.create_leaf" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates all upstream nodes to a DRS leaf.
The <a class="reference internal" href="#esgprep.drs.handler.DRSLeaf" title="esgprep.drs.handler.DRSLeaf"><code class="xref py py-func docutils literal"><span class="pre">esgprep.drs.handler.DRSLeaf()</span></code></a> class is added to data leaf nodes.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>nodes</strong> (<a class="reference internal" href="#esgprep.drs.handler.DRSTree.list" title="esgprep.drs.handler.DRSTree.list"><em>list</em></a>) – The list of node tags to the leaf</li>
<li><strong>leaf</strong> (<em>str</em>) – The leaf name</li>
<li><strong>label</strong> (<em>str</em>) – The leaf label</li>
<li><strong>src</strong> (<em>str</em>) – The source of the leaf</li>
<li><strong>mode</strong> (<em>str</em>) – The migration mode (e.g., ‘copy’, ‘move’, etc.)</li>
<li><strong>origin</strong> (<em>str</em>) – The original file full path used for the DRSLeaf source</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="esgprep.drs.handler.DRSTree.leaves">
<code class="descname">leaves</code><span class="sig-paren">(</span><em>root=None</em><span class="sig-paren">)</span><a class="reference internal" href="modules/esgprep/drs/handler.html#DRSTree.leaves"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esgprep.drs.handler.DRSTree.leaves" title="Permalink to this definition">¶</a></dt>
<dd><p>Yield leaves of the whole DRS tree of a subtree.</p>
</dd></dl>

<dl class="method">
<dt id="esgprep.drs.handler.DRSTree.check_uniqueness">
<code class="descname">check_uniqueness</code><span class="sig-paren">(</span><em>checksum_type</em><span class="sig-paren">)</span><a class="reference internal" href="modules/esgprep/drs/handler.html#DRSTree.check_uniqueness"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esgprep.drs.handler.DRSTree.check_uniqueness" title="Permalink to this definition">¶</a></dt>
<dd><p>Check tree upgrade uniqueness. Each data version to upgrade has to be stricly different
from the latest version if exists.</p>
</dd></dl>

<dl class="method">
<dt id="esgprep.drs.handler.DRSTree.list">
<code class="descname">list</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="modules/esgprep/drs/handler.html#DRSTree.list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esgprep.drs.handler.DRSTree.list" title="Permalink to this definition">¶</a></dt>
<dd><p>List and summary upgrade information at the publication level.</p>
</dd></dl>

<dl class="method">
<dt id="esgprep.drs.handler.DRSTree.tree">
<code class="descname">tree</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="modules/esgprep/drs/handler.html#DRSTree.tree"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esgprep.drs.handler.DRSTree.tree" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints the whole DRS tree in a visual way.</p>
</dd></dl>

<dl class="method">
<dt id="esgprep.drs.handler.DRSTree.todo">
<code class="descname">todo</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="modules/esgprep/drs/handler.html#DRSTree.todo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esgprep.drs.handler.DRSTree.todo" title="Permalink to this definition">¶</a></dt>
<dd><p>As a dry run <a class="reference internal" href="#esgprep.drs.handler.DRSTree.upgrade" title="esgprep.drs.handler.DRSTree.upgrade"><code class="xref py py-func docutils literal"><span class="pre">esgprep.drs.handler.DRSTree.upgrade()</span></code></a> that only prints command-lines to do.</p>
</dd></dl>

<dl class="method">
<dt id="esgprep.drs.handler.DRSTree.upgrade">
<code class="descname">upgrade</code><span class="sig-paren">(</span><em>todo_only=False</em><span class="sig-paren">)</span><a class="reference internal" href="modules/esgprep/drs/handler.html#DRSTree.upgrade"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esgprep.drs.handler.DRSTree.upgrade" title="Permalink to this definition">¶</a></dt>
<dd><p>Upgrades the whole DRS tree.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>todo_only</strong> (<em>boolean</em>) – Only print Unix command-line to do</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="esgprep.drs.handler.print_cmd">
<code class="descclassname">esgprep.drs.handler.</code><code class="descname">print_cmd</code><span class="sig-paren">(</span><em>line</em>, <em>commands_file</em>, <em>todo_only</em>, <em>mode='a'</em><span class="sig-paren">)</span><a class="reference internal" href="modules/esgprep/drs/handler.html#print_cmd"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esgprep.drs.handler.print_cmd" title="Permalink to this definition">¶</a></dt>
<dd><p>Print unix command-line depending on the choosen output and DRS action.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>line</strong> (<em>str</em>) – The command-line to write.</li>
<li><strong>commands_file</strong> (<em>str</em>) – The output file to write command-lines, None if not.</li>
<li><strong>todo_only</strong> (<em>boolean</em>) – True to only print Unix command-lines to apply (i.e., as dry-run)</li>
<li><strong>mode</strong> (<em>str</em>) – File open() mode</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<span class="target" id="module-esgprep.drs.custom_exceptions"></span><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">platform:</th><td class="field-body">Unix</td>
</tr>
<tr class="field-even field"><th class="field-name">synopsis:</th><td class="field-body">Custom exceptions used in this module.</td>
</tr>
</tbody>
</table>
<dl class="exception">
<dt id="esgprep.drs.custom_exceptions.DuplicatedDataset">
<em class="property">exception </em><code class="descclassname">esgprep.drs.custom_exceptions.</code><code class="descname">DuplicatedDataset</code><span class="sig-paren">(</span><em>path</em>, <em>version</em><span class="sig-paren">)</span><a class="reference internal" href="modules/esgprep/drs/custom_exceptions.html#DuplicatedDataset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esgprep.drs.custom_exceptions.DuplicatedDataset" title="Permalink to this definition">¶</a></dt>
<dd><p>Raised if a dataset already exists with submitted version.</p>
</dd></dl>

<dl class="exception">
<dt id="esgprep.drs.custom_exceptions.OlderUpgrade">
<em class="property">exception </em><code class="descclassname">esgprep.drs.custom_exceptions.</code><code class="descname">OlderUpgrade</code><span class="sig-paren">(</span><em>version</em>, <em>latest</em><span class="sig-paren">)</span><a class="reference internal" href="modules/esgprep/drs/custom_exceptions.html#OlderUpgrade"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esgprep.drs.custom_exceptions.OlderUpgrade" title="Permalink to this definition">¶</a></dt>
<dd><p>Raised if a dataset already exists with submitted version.</p>
</dd></dl>

<dl class="exception">
<dt id="esgprep.drs.custom_exceptions.DuplicatedFile">
<em class="property">exception </em><code class="descclassname">esgprep.drs.custom_exceptions.</code><code class="descname">DuplicatedFile</code><span class="sig-paren">(</span><em>latest</em>, <em>upgrade</em><span class="sig-paren">)</span><a class="reference internal" href="modules/esgprep/drs/custom_exceptions.html#DuplicatedFile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esgprep.drs.custom_exceptions.DuplicatedFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Raised if a NetCDF file already exists into submitted dataset version.</p>
</dd></dl>

<dl class="exception">
<dt id="esgprep.drs.custom_exceptions.NoVersionPattern">
<em class="property">exception </em><code class="descclassname">esgprep.drs.custom_exceptions.</code><code class="descname">NoVersionPattern</code><span class="sig-paren">(</span><em>regex</em>, <em>patterns</em><span class="sig-paren">)</span><a class="reference internal" href="modules/esgprep/drs/custom_exceptions.html#NoVersionPattern"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esgprep.drs.custom_exceptions.NoVersionPattern" title="Permalink to this definition">¶</a></dt>
<dd><p>Raised if no version facet found in the destination format.</p>
</dd></dl>

<dl class="exception">
<dt id="esgprep.drs.custom_exceptions.ReadAccessDenied">
<em class="property">exception </em><code class="descclassname">esgprep.drs.custom_exceptions.</code><code class="descname">ReadAccessDenied</code><span class="sig-paren">(</span><em>user</em>, <em>path</em><span class="sig-paren">)</span><a class="reference internal" href="modules/esgprep/drs/custom_exceptions.html#ReadAccessDenied"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esgprep.drs.custom_exceptions.ReadAccessDenied" title="Permalink to this definition">¶</a></dt>
<dd><p>Raised when user has no read access.</p>
</dd></dl>

<dl class="exception">
<dt id="esgprep.drs.custom_exceptions.WriteAccessDenied">
<em class="property">exception </em><code class="descclassname">esgprep.drs.custom_exceptions.</code><code class="descname">WriteAccessDenied</code><span class="sig-paren">(</span><em>user</em>, <em>path</em><span class="sig-paren">)</span><a class="reference internal" href="modules/esgprep/drs/custom_exceptions.html#WriteAccessDenied"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esgprep.drs.custom_exceptions.WriteAccessDenied" title="Permalink to this definition">¶</a></dt>
<dd><p>Raised when user has not write access.</p>
</dd></dl>

<dl class="exception">
<dt id="esgprep.drs.custom_exceptions.CrossMigrationDenied">
<em class="property">exception </em><code class="descclassname">esgprep.drs.custom_exceptions.</code><code class="descname">CrossMigrationDenied</code><span class="sig-paren">(</span><em>src</em>, <em>dst</em>, <em>mode</em><span class="sig-paren">)</span><a class="reference internal" href="modules/esgprep/drs/custom_exceptions.html#CrossMigrationDenied"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esgprep.drs.custom_exceptions.CrossMigrationDenied" title="Permalink to this definition">¶</a></dt>
<dd><p>Raised when migration fails for cross-device link.</p>
</dd></dl>

<dl class="exception">
<dt id="esgprep.drs.custom_exceptions.MigrationDenied">
<em class="property">exception </em><code class="descclassname">esgprep.drs.custom_exceptions.</code><code class="descname">MigrationDenied</code><span class="sig-paren">(</span><em>src</em>, <em>dst</em>, <em>mode</em>, <em>reason</em><span class="sig-paren">)</span><a class="reference internal" href="modules/esgprep/drs/custom_exceptions.html#MigrationDenied"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esgprep.drs.custom_exceptions.MigrationDenied" title="Permalink to this definition">¶</a></dt>
<dd><p>Raised when migration fails in another case.</p>
</dd></dl>

</div>
<div class="section" id="module-esgprep.esgcheckvocab">
<span id="esgcheckvocab"></span><h2>esgcheckvocab<a class="headerlink" href="#module-esgprep.esgcheckvocab" title="Permalink to this headline">¶</a></h2>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">platform:</th><td class="field-body">Unix</td>
</tr>
<tr class="field-even field"><th class="field-name">synopsis:</th><td class="field-body">Toolbox to prepare ESGF data for publication.</td>
</tr>
</tbody>
</table>
<dl class="function">
<dt id="esgprep.esgcheckvocab.get_args">
<code class="descclassname">esgprep.esgcheckvocab.</code><code class="descname">get_args</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="modules/esgprep/esgcheckvocab.html#get_args"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esgprep.esgcheckvocab.get_args" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns parsed command-line arguments.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The argument parser</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><em>argparse.Namespace</em></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="esgprep.esgcheckvocab.run">
<code class="descclassname">esgprep.esgcheckvocab.</code><code class="descname">run</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="modules/esgprep/esgcheckvocab.html#run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esgprep.esgcheckvocab.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Run main program</p>
</dd></dl>

<span class="target" id="module-esgprep.checkvocab.constants"></span><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">platform:</th><td class="field-body">Unix</td>
</tr>
<tr class="field-even field"><th class="field-name">synopsis:</th><td class="field-body">Constants used in this module.</td>
</tr>
</tbody>
</table>
<span class="target" id="module-esgprep.checkvocab.main"></span><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">platform:</th><td class="field-body">Unix</td>
</tr>
<tr class="field-even field"><th class="field-name">synopsis:</th><td class="field-body">Checks DRS vocabulary against configuration files.</td>
</tr>
</tbody>
</table>
<dl class="function">
<dt id="esgprep.checkvocab.main.run">
<code class="descclassname">esgprep.checkvocab.main.</code><code class="descname">run</code><span class="sig-paren">(</span><em>args</em><span class="sig-paren">)</span><a class="reference internal" href="modules/esgprep/checkvocab/main.html#run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esgprep.checkvocab.main.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Main process that:</p>
<blockquote>
<div><ul class="simple">
<li>Instantiates processing context</li>
<li>Parses the configuration files options and values,</li>
<li>Deduces facets and values from directories or dataset lists,</li>
<li>Compares the values of each facet between both,</li>
<li>Print or log the checking.</li>
</ul>
</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>args</strong> (<em>ArgumentParser</em>) – The command-line arguments parser</td>
</tr>
</tbody>
</table>
</dd></dl>

<span class="target" id="module-esgprep.checkvocab.context"></span><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">platform:</th><td class="field-body">Unix</td>
</tr>
<tr class="field-even field"><th class="field-name">synopsis:</th><td class="field-body">Processing context used in this module.</td>
</tr>
</tbody>
</table>
<dl class="class">
<dt id="esgprep.checkvocab.context.ProcessingContext">
<em class="property">class </em><code class="descclassname">esgprep.checkvocab.context.</code><code class="descname">ProcessingContext</code><span class="sig-paren">(</span><em>args</em><span class="sig-paren">)</span><a class="reference internal" href="modules/esgprep/checkvocab/context.html#ProcessingContext"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esgprep.checkvocab.context.ProcessingContext" title="Permalink to this definition">¶</a></dt>
<dd><p>Encapsulates the processing context/information for main process.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>args</strong> (<em>ArgumentParser</em>) – The command-line arguments parser</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The processing context</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><em>ProcessingContext</em></td>
</tr>
</tbody>
</table>
</dd></dl>

<span class="target" id="module-esgprep.checkvocab.custom_exceptions"></span><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">platform:</th><td class="field-body">Unix</td>
</tr>
<tr class="field-even field"><th class="field-name">synopsis:</th><td class="field-body">Custom exceptions used in this module.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="module-esgprep.esgmapfile">
<span id="esgmapfile"></span><h2>esgmapfile<a class="headerlink" href="#module-esgprep.esgmapfile" title="Permalink to this headline">¶</a></h2>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">platform:</th><td class="field-body">Unix</td>
</tr>
<tr class="field-even field"><th class="field-name">synopsis:</th><td class="field-body">Toolbox to prepare ESGF data for publication.</td>
</tr>
</tbody>
</table>
<dl class="function">
<dt id="esgprep.esgmapfile.get_args">
<code class="descclassname">esgprep.esgmapfile.</code><code class="descname">get_args</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="modules/esgprep/esgmapfile.html#get_args"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esgprep.esgmapfile.get_args" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns parsed command-line arguments.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The argument parser</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><em>argparse.Namespace</em></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="esgprep.esgmapfile.run">
<code class="descclassname">esgprep.esgmapfile.</code><code class="descname">run</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="modules/esgprep/esgmapfile.html#run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esgprep.esgmapfile.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Run main program</p>
</dd></dl>

<span class="target" id="module-esgprep.mapfile.constants"></span><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">platform:</th><td class="field-body">Unix</td>
</tr>
<tr class="field-even field"><th class="field-name">synopsis:</th><td class="field-body">Constants used in this module.</td>
</tr>
</tbody>
</table>
<span class="target" id="module-esgprep.mapfile.main"></span><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">platform:</th><td class="field-body">Unix</td>
</tr>
<tr class="field-even field"><th class="field-name">synopsis:</th><td class="field-body">Generates ESGF mapfiles upon a local ESGF node or not.</td>
</tr>
</tbody>
</table>
<dl class="function">
<dt id="esgprep.mapfile.main.get_output_mapfile">
<code class="descclassname">esgprep.mapfile.main.</code><code class="descname">get_output_mapfile</code><span class="sig-paren">(</span><em>outdir</em>, <em>attributes</em>, <em>mapfile_name</em>, <em>dataset_id</em>, <em>dataset_version</em>, <em>mapfile_drs=None</em>, <em>basename=False</em><span class="sig-paren">)</span><a class="reference internal" href="modules/esgprep/mapfile/main.html#get_output_mapfile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esgprep.mapfile.main.get_output_mapfile" title="Permalink to this definition">¶</a></dt>
<dd><p>Builds the mapfile full path depending on:</p>
<blockquote>
<div><ul class="simple">
<li>the –mapfile name using tokens,</li>
<li>an optional mapfile tree declared in configuration file with <code class="docutils literal"><span class="pre">mapfile_drs</span></code>,</li>
<li>the –outdir output directory.</li>
</ul>
</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>outdir</strong> (<em>str</em>) – The output directory (default is current working directory)</li>
<li><strong>attributes</strong> (<em>dict</em>) – The facets values deduces from file full path</li>
<li><strong>mapfile_name</strong> (<em>str</em>) – An optional mapfile name from the command-line</li>
<li><strong>dataset_id</strong> (<em>str</em>) – The dataset id</li>
<li><strong>dataset_version</strong> (<em>str</em>) – The dataset version</li>
<li><strong>mapfile_drs</strong> (<em>str</em>) – The optional mapfile tree</li>
<li><strong>basename</strong> (<em>boolean</em>) – True to only get mapfile name without root directory</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The mapfile full path</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><em>str</em></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="esgprep.mapfile.main.mapfile_entry">
<code class="descclassname">esgprep.mapfile.main.</code><code class="descname">mapfile_entry</code><span class="sig-paren">(</span><em>dataset_id</em>, <em>dataset_version</em>, <em>ffp</em>, <em>size</em>, <em>optional_attrs</em><span class="sig-paren">)</span><a class="reference internal" href="modules/esgprep/mapfile/main.html#mapfile_entry"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esgprep.mapfile.main.mapfile_entry" title="Permalink to this definition">¶</a></dt>
<dd><p>Builds the mapfile entry corresponding to a processed file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>dataset_id</strong> (<em>str</em>) – The dataset id</li>
<li><strong>dataset_version</strong> (<em>str</em>) – The dataset version</li>
<li><strong>ffp</strong> (<em>str</em>) – The file full path</li>
<li><strong>size</strong> (<em>str</em>) – The file size</li>
<li><strong>optional_attrs</strong> (<em>dict</em>) – Optional attributes to append to mapfile lines</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The mapfile line/entry</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><em>str</em></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="esgprep.mapfile.main.write">
<code class="descclassname">esgprep.mapfile.main.</code><code class="descname">write</code><span class="sig-paren">(</span><em>outfile</em>, <em>entry</em><span class="sig-paren">)</span><a class="reference internal" href="modules/esgprep/mapfile/main.html#write"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esgprep.mapfile.main.write" title="Permalink to this definition">¶</a></dt>
<dd><p>Inserts a mapfile entry.
It generates a lockfile to avoid that several threads write on the same file at the same time.
A LockFile is acquired and released after writing. Acquiring LockFile is timeouted if it’s locked by other thread.
Each process adds one line to the appropriate mapfile</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>outfile</strong> (<em>str</em>) – The output mapfile full path</li>
<li><strong>entry</strong> (<em>str</em>) – The mapfile entry to write</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="esgprep.mapfile.main.process">
<code class="descclassname">esgprep.mapfile.main.</code><code class="descname">process</code><span class="sig-paren">(</span><em>collector_input</em><span class="sig-paren">)</span><a class="reference internal" href="modules/esgprep/mapfile/main.html#process"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esgprep.mapfile.main.process" title="Permalink to this definition">¶</a></dt>
<dd><p>File process that:</p>
<blockquote>
<div><ul class="simple">
<li>Handles file,</li>
<li>Harvests directory attributes,</li>
<li>Check DRS attributes against CV,</li>
<li>Builds dataset ID,</li>
<li>Retrieves file size,</li>
<li>Does checksums,</li>
<li>Deduces mapfile name,</li>
<li>Writes the corresponding mapfile entry.</li>
</ul>
</div></blockquote>
<p>Any error leads to skip the file. It does not stop the process.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>collector_input</strong> (<em>tuple</em>) – A tuple with the file path and the processing context</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The output mapfile full path</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><em>str</em></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="esgprep.mapfile.main.run">
<code class="descclassname">esgprep.mapfile.main.</code><code class="descname">run</code><span class="sig-paren">(</span><em>args</em><span class="sig-paren">)</span><a class="reference internal" href="modules/esgprep/mapfile/main.html#run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esgprep.mapfile.main.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Main process that:</p>
<blockquote>
<div><ul class="simple">
<li>Instantiates processing context,</li>
<li>Parallelizes file processing with threads pools,</li>
<li>Copies mapfile(s) to the output directory,</li>
<li>Evaluate exit status.</li>
</ul>
</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>args</strong> (<em>ArgumentParser</em>) – Command-line arguments parser</td>
</tr>
</tbody>
</table>
</dd></dl>

<span class="target" id="module-esgprep.mapfile.context"></span><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">platform:</th><td class="field-body">Unix</td>
</tr>
<tr class="field-even field"><th class="field-name">synopsis:</th><td class="field-body">Processing context used in this module.</td>
</tr>
</tbody>
</table>
<dl class="class">
<dt id="esgprep.mapfile.context.ProcessingContext">
<em class="property">class </em><code class="descclassname">esgprep.mapfile.context.</code><code class="descname">ProcessingContext</code><span class="sig-paren">(</span><em>args</em><span class="sig-paren">)</span><a class="reference internal" href="modules/esgprep/mapfile/context.html#ProcessingContext"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esgprep.mapfile.context.ProcessingContext" title="Permalink to this definition">¶</a></dt>
<dd><p>Encapsulates the processing context/information for main process.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>args</strong> (<em>ArgumentParser</em>) – The command-line arguments parser</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The processing context</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><em>ProcessingContext</em></td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="esgprep.mapfile.context.ProcessingContext.get_checksum_type">
<code class="descname">get_checksum_type</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="modules/esgprep/mapfile/context.html#ProcessingContext.get_checksum_type"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esgprep.mapfile.context.ProcessingContext.get_checksum_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the checksum type to use.
Be careful to Exception constants by reading two different sections.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The checksum type</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><em>str</em></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="esgprep.mapfile.context.ProcessingContext.clean">
<code class="descname">clean</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="modules/esgprep/mapfile/context.html#ProcessingContext.clean"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esgprep.mapfile.context.ProcessingContext.clean" title="Permalink to this definition">¶</a></dt>
<dd><p>Clean directory from incomplete mapfiles.
Incomplete mapfiles from a previous run are silently removed.</p>
</dd></dl>

</dd></dl>

<span class="target" id="module-esgprep.mapfile.handler"></span><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">platform:</th><td class="field-body">Unix</td>
</tr>
<tr class="field-even field"><th class="field-name">synopsis:</th><td class="field-body">Class to handle files for mapfile generation.</td>
</tr>
</tbody>
</table>
<dl class="class">
<dt id="esgprep.mapfile.handler.Source">
<em class="property">class </em><code class="descclassname">esgprep.mapfile.handler.</code><code class="descname">Source</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="reference internal" href="modules/esgprep/mapfile/handler.html#Source"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esgprep.mapfile.handler.Source" title="Permalink to this definition">¶</a></dt>
<dd><p>Handler providing methods to deal with file processing.</p>
<dl class="method">
<dt id="esgprep.mapfile.handler.Source.get">
<code class="descname">get</code><span class="sig-paren">(</span><em>key</em><span class="sig-paren">)</span><a class="reference internal" href="modules/esgprep/mapfile/handler.html#Source.get"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esgprep.mapfile.handler.Source.get" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the attribute value corresponding to the key.
The submitted key can refer to <code class="docutils literal"><span class="pre">File.key</span></code> or <code class="docutils literal"><span class="pre">File.attributes[key]</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>key</strong> (<em>str</em>) – The key</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The corresponding value</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><em>str</em> or <em>list</em> or <em>dict</em> depending on the key</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><strong>Error</strong> – If unknown key</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="esgprep.mapfile.handler.Source.load_attributes">
<code class="descname">load_attributes</code><span class="sig-paren">(</span><em>pattern</em><span class="sig-paren">)</span><a class="reference internal" href="modules/esgprep/mapfile/handler.html#Source.load_attributes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esgprep.mapfile.handler.Source.load_attributes" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads DRS attributes catched from a regular expression match.
The project facet is added in any case with lower case.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>pattern</strong> (<em>str</em>) – The regular expression to match</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><strong>Error</strong> – If regular expression matching fails</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="esgprep.mapfile.handler.Source.check_facets">
<code class="descname">check_facets</code><span class="sig-paren">(</span><em>facets</em>, <em>config</em><span class="sig-paren">)</span><a class="reference internal" href="modules/esgprep/mapfile/handler.html#Source.check_facets"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esgprep.mapfile.handler.Source.check_facets" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks each facet against the controlled vocabulary.
If a DRS attribute is missing regarding the list of facets,
the DRS attributes are completed from the configuration file maptables.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>facets</strong> (<a class="reference internal" href="#esgprep.drs.handler.DRSTree.list" title="esgprep.drs.handler.DRSTree.list"><em>list</em></a>) – The list of facet to check</li>
<li><strong>config</strong> (<em>ESGConfigParser.SectionParser</em>) – The configuration parser</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><strong>Error</strong> – If one facet checkup fails</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="esgprep.mapfile.handler.Source.get_dataset_id">
<code class="descname">get_dataset_id</code><span class="sig-paren">(</span><em>dataset_format</em><span class="sig-paren">)</span><a class="reference internal" href="modules/esgprep/mapfile/handler.html#Source.get_dataset_id"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esgprep.mapfile.handler.Source.get_dataset_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Builds the dataset identifier from the dataset template interpolation.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>dataset_format</strong> (<em>str</em>) – The dataset template pattern</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The resulting dataset identifier</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><em>str</em></td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><strong>Error</strong> – If a facet key is missing</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="esgprep.mapfile.handler.Source.get_dataset_version">
<code class="descname">get_dataset_version</code><span class="sig-paren">(</span><em>no_version=False</em><span class="sig-paren">)</span><a class="reference internal" href="modules/esgprep/mapfile/handler.html#Source.get_dataset_version"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esgprep.mapfile.handler.Source.get_dataset_version" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve the dataset version. If the version facet cannot be deduced from full path,
it follows the symlink to complete the DRS attributes.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>no_version</strong> (<em>boolean</em>) – True to not append version to the dataset ID</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The dataset version</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><em>str</em></td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="esgprep.mapfile.handler.Dataset">
<em class="property">class </em><code class="descclassname">esgprep.mapfile.handler.</code><code class="descname">Dataset</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="modules/esgprep/mapfile/handler.html#Dataset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esgprep.mapfile.handler.Dataset" title="Permalink to this definition">¶</a></dt>
<dd><p>Dataset handler class</p>
</dd></dl>

<dl class="class">
<dt id="esgprep.mapfile.handler.File">
<em class="property">class </em><code class="descclassname">esgprep.mapfile.handler.</code><code class="descname">File</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="modules/esgprep/mapfile/handler.html#File"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esgprep.mapfile.handler.File" title="Permalink to this definition">¶</a></dt>
<dd><p>File handler class</p>
<dl class="method">
<dt id="esgprep.mapfile.handler.File.checksum">
<code class="descname">checksum</code><span class="sig-paren">(</span><em>checksum_type</em><span class="sig-paren">)</span><a class="reference internal" href="modules/esgprep/mapfile/handler.html#File.checksum"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esgprep.mapfile.handler.File.checksum" title="Permalink to this definition">¶</a></dt>
<dd><p>Does the checksum by the Shell avoiding Python memory limits.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>checksum_type</strong> (<em>str</em>) – Checksum type</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The checksum</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><em>str</em></td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><strong>Error</strong> – If the checksum fails</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<span class="target" id="module-esgprep.mapfile.custom_exceptions"></span><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">platform:</th><td class="field-body">Unix</td>
</tr>
<tr class="field-even field"><th class="field-name">synopsis:</th><td class="field-body">Custom exceptions used in this module.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="module-esgprep.utils.constants">
<span id="utils"></span><h2>utils<a class="headerlink" href="#module-esgprep.utils.constants" title="Permalink to this headline">¶</a></h2>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">platform:</th><td class="field-body">Unix</td>
</tr>
<tr class="field-even field"><th class="field-name">synopsis:</th><td class="field-body">Constants used in this package.</td>
</tr>
</tbody>
</table>
<span class="target" id="module-esgprep.utils.collectors"></span><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">platform:</th><td class="field-body">Unix</td>
</tr>
<tr class="field-even field"><th class="field-name">synopsis:</th><td class="field-body">Useful functions to collect data from directories.</td>
</tr>
</tbody>
</table>
<dl class="class">
<dt id="esgprep.utils.collectors.Collecting">
<em class="property">class </em><code class="descclassname">esgprep.utils.collectors.</code><code class="descname">Collecting</code><span class="sig-paren">(</span><em>spinner</em><span class="sig-paren">)</span><a class="reference internal" href="modules/esgprep/utils/collectors.html#Collecting"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esgprep.utils.collectors.Collecting" title="Permalink to this definition">¶</a></dt>
<dd><p>Spinner pending data collection.</p>
<dl class="method">
<dt id="esgprep.utils.collectors.Collecting.next">
<code class="descname">next</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="modules/esgprep/utils/collectors.html#Collecting.next"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esgprep.utils.collectors.Collecting.next" title="Permalink to this definition">¶</a></dt>
<dd><p>Print collector spinner</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="esgprep.utils.collectors.Collector">
<em class="property">class </em><code class="descclassname">esgprep.utils.collectors.</code><code class="descname">Collector</code><span class="sig-paren">(</span><em>sources</em>, <em>spinner=True</em>, <em>data=None</em><span class="sig-paren">)</span><a class="reference internal" href="modules/esgprep/utils/collectors.html#Collector"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esgprep.utils.collectors.Collector" title="Permalink to this definition">¶</a></dt>
<dd><p>Base collector class to yield regular NetCDF files.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>sources</strong> (<a class="reference internal" href="#esgprep.drs.handler.DRSTree.list" title="esgprep.drs.handler.DRSTree.list"><em>list</em></a>) – The list of sources to parse</li>
<li><strong>data</strong> (<em>object</em>) – Any object to attach to each collected data</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The data collector</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><em>iter</em></p>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="esgprep.utils.collectors.Collector.attach">
<code class="descname">attach</code><span class="sig-paren">(</span><em>item</em><span class="sig-paren">)</span><a class="reference internal" href="modules/esgprep/utils/collectors.html#Collector.attach"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esgprep.utils.collectors.Collector.attach" title="Permalink to this definition">¶</a></dt>
<dd><p>Attach any object to the each collector item.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>item</strong> (<em>str</em>) – The collector item</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The collector item with the “data” object</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><em>tuple</em></td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="esgprep.utils.collectors.PathCollector">
<em class="property">class </em><code class="descclassname">esgprep.utils.collectors.</code><code class="descname">PathCollector</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="modules/esgprep/utils/collectors.html#PathCollector"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esgprep.utils.collectors.PathCollector" title="Permalink to this definition">¶</a></dt>
<dd><p>Collector class to yield files from a list of directories to parse.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>dir_filter</strong> (<em>str</em>) – A regular expression to exclude directories from the collection</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="esgprep.utils.collectors.VersionedPathCollector">
<em class="property">class </em><code class="descclassname">esgprep.utils.collectors.</code><code class="descname">VersionedPathCollector</code><span class="sig-paren">(</span><em>dir_format</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="modules/esgprep/utils/collectors.html#VersionedPathCollector"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esgprep.utils.collectors.VersionedPathCollector" title="Permalink to this definition">¶</a></dt>
<dd><p>Collector class to yield files from a list of versioned directories to parse.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>dir_format</strong> (<em>str</em>) – The regular expression of the directory format</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="esgprep.utils.collectors.VersionedPathCollector.version_finder">
<code class="descname">version_finder</code><span class="sig-paren">(</span><em>directory</em><span class="sig-paren">)</span><a class="reference internal" href="modules/esgprep/utils/collectors.html#VersionedPathCollector.version_finder"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esgprep.utils.collectors.VersionedPathCollector.version_finder" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the version number find into a DRS path
:param str directory: The directory to parse
:returns: The version
:rtype: <em>str</em></p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="esgprep.utils.collectors.DatasetCollector">
<em class="property">class </em><code class="descclassname">esgprep.utils.collectors.</code><code class="descname">DatasetCollector</code><span class="sig-paren">(</span><em>versioned=True</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="modules/esgprep/utils/collectors.html#DatasetCollector"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esgprep.utils.collectors.DatasetCollector" title="Permalink to this definition">¶</a></dt>
<dd><p>Collector class to yield datasets from a list of files to read.</p>
</dd></dl>

<dl class="class">
<dt id="esgprep.utils.collectors.FilterCollection">
<em class="property">class </em><code class="descclassname">esgprep.utils.collectors.</code><code class="descname">FilterCollection</code><a class="reference internal" href="modules/esgprep/utils/collectors.html#FilterCollection"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esgprep.utils.collectors.FilterCollection" title="Permalink to this definition">¶</a></dt>
<dd><p>Regex dictionary with a call method to evaluate a string against several regular expressions.
The dictionary values are 2-tuples with the regular expression as a string and a boolean
indicating to match (i.e., include) or non-match (i.e., exclude) the corresponding expression.</p>
<dl class="method">
<dt id="esgprep.utils.collectors.FilterCollection.add">
<code class="descname">add</code><span class="sig-paren">(</span><em>name=None</em>, <em>regex='*'</em>, <em>inclusive=True</em><span class="sig-paren">)</span><a class="reference internal" href="modules/esgprep/utils/collectors.html#FilterCollection.add"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esgprep.utils.collectors.FilterCollection.add" title="Permalink to this definition">¶</a></dt>
<dd><p>Add new filter</p>
</dd></dl>

</dd></dl>

<span class="target" id="module-esgprep.utils.misc"></span><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">platform:</th><td class="field-body">Unix</td>
</tr>
<tr class="field-even field"><th class="field-name">synopsis:</th><td class="field-body">Useful functions to use with this package.</td>
</tr>
</tbody>
</table>
<dl class="class">
<dt id="esgprep.utils.misc.LogFilter">
<em class="property">class </em><code class="descclassname">esgprep.utils.misc.</code><code class="descname">LogFilter</code><span class="sig-paren">(</span><em>level</em><span class="sig-paren">)</span><a class="reference internal" href="modules/esgprep/utils/misc.html#LogFilter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esgprep.utils.misc.LogFilter" title="Permalink to this definition">¶</a></dt>
<dd><p>Log filter with upper log level to use with the Python
<a class="reference external" href="https://docs.python.org/2/library/logging.html">logging</a> module.</p>
<dl class="method">
<dt id="esgprep.utils.misc.LogFilter.filter">
<code class="descname">filter</code><span class="sig-paren">(</span><em>log_record</em><span class="sig-paren">)</span><a class="reference internal" href="modules/esgprep/utils/misc.html#LogFilter.filter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esgprep.utils.misc.LogFilter.filter" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the upper log level.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="esgprep.utils.misc.init_logging">
<code class="descclassname">esgprep.utils.misc.</code><code class="descname">init_logging</code><span class="sig-paren">(</span><em>log</em>, <em>debug=False</em>, <em>level='INFO'</em><span class="sig-paren">)</span><a class="reference internal" href="modules/esgprep/utils/misc.html#init_logging"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esgprep.utils.misc.init_logging" title="Permalink to this definition">¶</a></dt>
<dd><p>Initiates the logging configuration (output, date/message formatting).
If a directory is submitted the logfile name is unique and formatted as follows:
<code class="docutils literal"><span class="pre">name-YYYYMMDD-HHMMSS-JOBID.log``If</span> <span class="pre">``None</span></code> the standard output is used.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>log</strong> (<em>str</em>) – The logfile directory.</li>
<li><strong>debug</strong> (<em>boolean</em>) – Debug mode.</li>
<li><strong>quiet</strong> (<em>boolean</em>) – Silent mode.</li>
<li><strong>level</strong> (<em>str</em>) – The log level.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="esgprep.utils.misc.remove">
<code class="descclassname">esgprep.utils.misc.</code><code class="descname">remove</code><span class="sig-paren">(</span><em>pattern</em>, <em>string</em><span class="sig-paren">)</span><a class="reference internal" href="modules/esgprep/utils/misc.html#remove"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esgprep.utils.misc.remove" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes a substring catched by a regular expression.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>pattern</strong> (<em>str</em>) – The regular expression to catch</li>
<li><strong>string</strong> (<em>str</em>) – The string to test</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The string without the catched substring</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><em>str</em></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="esgprep.utils.misc.match">
<code class="descclassname">esgprep.utils.misc.</code><code class="descname">match</code><span class="sig-paren">(</span><em>pattern</em>, <em>string</em>, <em>inclusive=True</em><span class="sig-paren">)</span><a class="reference internal" href="modules/esgprep/utils/misc.html#match"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esgprep.utils.misc.match" title="Permalink to this definition">¶</a></dt>
<dd><p>Validates a string against a regular expression.
Only match at the beginning of the string.
Default is to match inclusive regex.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>pattern</strong> (<em>str</em>) – The regular expression to match</li>
<li><strong>string</strong> (<em>str</em>) – The string to test</li>
<li><strong>inclusive</strong> (<em>boolean</em>) – False if negative matching (i.e., exclude the regex)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">True if it matches</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><em>boolean</em></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="esgprep.utils.misc.load">
<code class="descclassname">esgprep.utils.misc.</code><code class="descname">load</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="reference internal" href="modules/esgprep/utils/misc.html#load"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esgprep.utils.misc.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads data from Pickle file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>path</strong> (<em>str</em>) – The Pickle file path</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The Pickle file content</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><em>object</em></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="esgprep.utils.misc.store">
<code class="descclassname">esgprep.utils.misc.</code><code class="descname">store</code><span class="sig-paren">(</span><em>path</em>, <em>data</em><span class="sig-paren">)</span><a class="reference internal" href="modules/esgprep/utils/misc.html#store"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esgprep.utils.misc.store" title="Permalink to this definition">¶</a></dt>
<dd><p>Stores data into a Pickle file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>path</strong> (<em>str</em>) – The Pickle file path</li>
<li><strong>data</strong> (<a class="reference internal" href="#esgprep.drs.handler.DRSTree.list" title="esgprep.drs.handler.DRSTree.list"><em>list</em></a>) – A list of data objects to store</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="esgprep.utils.misc.evaluate">
<code class="descclassname">esgprep.utils.misc.</code><code class="descname">evaluate</code><span class="sig-paren">(</span><em>results</em><span class="sig-paren">)</span><a class="reference internal" href="modules/esgprep/utils/misc.html#evaluate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esgprep.utils.misc.evaluate" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluates a list depending on absence/presence of None values.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>results</strong> (<a class="reference internal" href="#esgprep.drs.handler.DRSTree.list" title="esgprep.drs.handler.DRSTree.list"><em>list</em></a>) – The list to evaluate</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">True if no blocking errors</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><em>boolean</em></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="esgprep.utils.misc.checksum">
<code class="descclassname">esgprep.utils.misc.</code><code class="descname">checksum</code><span class="sig-paren">(</span><em>ffp</em>, <em>checksum_type</em>, <em>include_filename=False</em>, <em>human_readable=True</em><span class="sig-paren">)</span><a class="reference internal" href="modules/esgprep/utils/misc.html#checksum"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esgprep.utils.misc.checksum" title="Permalink to this definition">¶</a></dt>
<dd><p>Does the checksum by the Shell avoiding Python memory limits.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>ffp</strong> (<em>str</em>) – The file full path</li>
<li><strong>checksum_type</strong> (<em>str</em>) – Checksum type</li>
<li><strong>human_readable</strong> (<em>boolean</em>) – True to return a human readable digested message</li>
<li><strong>include_filename</strong> (<em>boolean</em>) – True to include filename in hash calculation</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The checksum</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><em>str</em></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><strong>Error</strong> – If the checksum fails</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<span class="target" id="module-esgprep.utils.parser"></span><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">platform:</th><td class="field-body">Unix</td>
</tr>
<tr class="field-even field"><th class="field-name">synopsis:</th><td class="field-body">Class and methods used to parse command-line arguments.</td>
</tr>
</tbody>
</table>
<dl class="class">
<dt id="esgprep.utils.parser.MultilineFormatter">
<em class="property">class </em><code class="descclassname">esgprep.utils.parser.</code><code class="descname">MultilineFormatter</code><span class="sig-paren">(</span><em>prog</em><span class="sig-paren">)</span><a class="reference internal" href="modules/esgprep/utils/parser.html#MultilineFormatter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esgprep.utils.parser.MultilineFormatter" title="Permalink to this definition">¶</a></dt>
<dd><p>Custom formatter class for argument parser to use with the Python
<a class="reference external" href="https://docs.python.org/2/library/argparse.html">argparse</a> module.</p>
</dd></dl>

<dl class="class">
<dt id="esgprep.utils.parser.DirectoryChecker">
<em class="property">class </em><code class="descclassname">esgprep.utils.parser.</code><code class="descname">DirectoryChecker</code><span class="sig-paren">(</span><em>option_strings</em>, <em>dest</em>, <em>nargs=None</em>, <em>const=None</em>, <em>default=None</em>, <em>type=None</em>, <em>choices=None</em>, <em>required=False</em>, <em>help=None</em>, <em>metavar=None</em><span class="sig-paren">)</span><a class="reference internal" href="modules/esgprep/utils/parser.html#DirectoryChecker"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esgprep.utils.parser.DirectoryChecker" title="Permalink to this definition">¶</a></dt>
<dd><p>Custom action class for argument parser to use with the Python
<a class="reference external" href="https://docs.python.org/2/library/argparse.html">argparse</a> module.</p>
<dl class="staticmethod">
<dt id="esgprep.utils.parser.DirectoryChecker.directory_checker">
<em class="property">static </em><code class="descname">directory_checker</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="reference internal" href="modules/esgprep/utils/parser.html#DirectoryChecker.directory_checker"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esgprep.utils.parser.DirectoryChecker.directory_checker" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks if the supplied directory exists. The path is normalized without trailing slash.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>path</strong> (<em>str</em>) – The path list to check</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The same path list</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><em>str</em></td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><strong>Error</strong> – If one of the directory does not exist</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="esgprep.utils.parser.VersionChecker">
<em class="property">class </em><code class="descclassname">esgprep.utils.parser.</code><code class="descname">VersionChecker</code><span class="sig-paren">(</span><em>option_strings</em>, <em>dest</em>, <em>nargs=None</em>, <em>const=None</em>, <em>default=None</em>, <em>type=None</em>, <em>choices=None</em>, <em>required=False</em>, <em>help=None</em>, <em>metavar=None</em><span class="sig-paren">)</span><a class="reference internal" href="modules/esgprep/utils/parser.html#VersionChecker"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esgprep.utils.parser.VersionChecker" title="Permalink to this definition">¶</a></dt>
<dd><p>Custom action class for argument parser to use with the Python
<a class="reference external" href="https://docs.python.org/2/library/argparse.html">argparse</a> module.</p>
<dl class="staticmethod">
<dt id="esgprep.utils.parser.VersionChecker.version_checker">
<em class="property">static </em><code class="descname">version_checker</code><span class="sig-paren">(</span><em>version</em><span class="sig-paren">)</span><a class="reference internal" href="modules/esgprep/utils/parser.html#VersionChecker.version_checker"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esgprep.utils.parser.VersionChecker.version_checker" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks the version format from command-line.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The version if allowed</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><em>str</em></td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><strong>Error</strong> – If invalid version format</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="esgprep.utils.parser.keyval_converter">
<code class="descclassname">esgprep.utils.parser.</code><code class="descname">keyval_converter</code><span class="sig-paren">(</span><em>pair</em><span class="sig-paren">)</span><a class="reference internal" href="modules/esgprep/utils/parser.html#keyval_converter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esgprep.utils.parser.keyval_converter" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks the key value syntax.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>pair</strong> (<em>str</em>) – The key/value pair to check</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The key/value pair</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><em>list</em></td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><strong>Error</strong> – If invalid pair syntax</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="esgprep.utils.parser.regex_validator">
<code class="descclassname">esgprep.utils.parser.</code><code class="descname">regex_validator</code><span class="sig-paren">(</span><em>string</em><span class="sig-paren">)</span><a class="reference internal" href="modules/esgprep/utils/parser.html#regex_validator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esgprep.utils.parser.regex_validator" title="Permalink to this definition">¶</a></dt>
<dd><p>Validates a Python regular expression syntax.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>string</strong> (<em>str</em>) – The string to check</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The Python regex</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><em>re.compile</em></td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><strong>Error</strong> – If invalid regular expression</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="esgprep.utils.parser.DirectoryType">
<em class="property">class </em><code class="descclassname">esgprep.utils.parser.</code><code class="descname">DirectoryType</code><a class="reference internal" href="modules/esgprep/utils/parser.html#DirectoryType"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esgprep.utils.parser.DirectoryType" title="Permalink to this definition">¶</a></dt>
<dd><p>Instances of DirType are typically passed as type= arguments to the
ArgumentParser add_argument() method.</p>
</dd></dl>

<span class="target" id="module-esgprep.utils.custom_exceptions"></span><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">platform:</th><td class="field-body">Unix</td>
</tr>
<tr class="field-even field"><th class="field-name">synopsis:</th><td class="field-body">Custom exceptions used in this package.</td>
</tr>
</tbody>
</table>
<dl class="exception">
<dt id="esgprep.utils.custom_exceptions.InvalidNetCDFFile">
<em class="property">exception </em><code class="descclassname">esgprep.utils.custom_exceptions.</code><code class="descname">InvalidNetCDFFile</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="reference internal" href="modules/esgprep/utils/custom_exceptions.html#InvalidNetCDFFile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esgprep.utils.custom_exceptions.InvalidNetCDFFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Raised when invalid or corrupted NetCDF file.</p>
</dd></dl>

<dl class="exception">
<dt id="esgprep.utils.custom_exceptions.NoNetCDFAttribute">
<em class="property">exception </em><code class="descclassname">esgprep.utils.custom_exceptions.</code><code class="descname">NoNetCDFAttribute</code><span class="sig-paren">(</span><em>attribute</em>, <em>path</em>, <em>variable=None</em><span class="sig-paren">)</span><a class="reference internal" href="modules/esgprep/utils/custom_exceptions.html#NoNetCDFAttribute"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esgprep.utils.custom_exceptions.NoNetCDFAttribute" title="Permalink to this definition">¶</a></dt>
<dd><p>Raised when a NetCDF attribute is missing.</p>
</dd></dl>

<dl class="exception">
<dt id="esgprep.utils.custom_exceptions.KeyNotFound">
<em class="property">exception </em><code class="descclassname">esgprep.utils.custom_exceptions.</code><code class="descname">KeyNotFound</code><span class="sig-paren">(</span><em>key</em>, <em>keys=None</em><span class="sig-paren">)</span><a class="reference internal" href="modules/esgprep/utils/custom_exceptions.html#KeyNotFound"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esgprep.utils.custom_exceptions.KeyNotFound" title="Permalink to this definition">¶</a></dt>
<dd><p>Raised when a class key is not found.</p>
</dd></dl>

<dl class="exception">
<dt id="esgprep.utils.custom_exceptions.InvalidChecksumType">
<em class="property">exception </em><code class="descclassname">esgprep.utils.custom_exceptions.</code><code class="descname">InvalidChecksumType</code><span class="sig-paren">(</span><em>client</em><span class="sig-paren">)</span><a class="reference internal" href="modules/esgprep/utils/custom_exceptions.html#InvalidChecksumType"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esgprep.utils.custom_exceptions.InvalidChecksumType" title="Permalink to this definition">¶</a></dt>
<dd><p>Raised when checksum type in unknown.</p>
</dd></dl>

<dl class="exception">
<dt id="esgprep.utils.custom_exceptions.ChecksumFail">
<em class="property">exception </em><code class="descclassname">esgprep.utils.custom_exceptions.</code><code class="descname">ChecksumFail</code><span class="sig-paren">(</span><em>path</em>, <em>checksum_type=None</em><span class="sig-paren">)</span><a class="reference internal" href="modules/esgprep/utils/custom_exceptions.html#ChecksumFail"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esgprep.utils.custom_exceptions.ChecksumFail" title="Permalink to this definition">¶</a></dt>
<dd><p>Raised when a checksum fails.</p>
</dd></dl>

<p><em>Module author: Levavasseur Guillaume (CNRS/IPSL) &lt;<a class="reference external" href="mailto:glipsl&#37;&#52;&#48;ipsl&#46;fr">glipsl<span>&#64;</span>ipsl<span>&#46;</span>fr</a>&gt;</em></p>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="log.html" class="btn btn-neutral" title="Change Log" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, Levavasseur, G..

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'2.8.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="static/jquery.js"></script>
      <script type="text/javascript" src="static/underscore.js"></script>
      <script type="text/javascript" src="static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>